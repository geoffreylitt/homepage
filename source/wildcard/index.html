<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Geoffrey Litt and Daniel Jackson" />
  <title>Wildcard: End user modification of web applications through a data table</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="basic.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>

<p style="background-color: #e50000;
color: white;
font-weight: bold;
padding: 10px; margin: 20px 0 0 0;">In-progress DRAFT. Please don't distribute!</p>

<header id="title-block-header">
<h1 class="title">Wildcard: End user modification of web applications through a data table</h1>
<p class="author"><a href="https://www.geoffreylitt.com/">Geoffrey Litt</a> and <a href="http://people.csail.mit.edu/dnj/">Daniel Jackson</a></p>
</header>
<p>Many Web applications do not meet the particular needs of their users. Browser extensions and user scripts offer a way to customize web applications, but most people do not have the programming skills to implement their own customizations.</p>
<p>In this paper, we present a prototype of Wildcard, an extension framework embedded in the browser that empowers users to casually tweak web applications without needing to program in Javascript or directly interact with the DOM.</p>
<p>Wildcard shows the data from a web page in a table, and maintains a live bidirectional connection between the table and the original page. By directly manipulating the table, users can perform a wide variety of modifications: sorting/filtering content, adding private annotations, using spreadsheet formulas to fetch data from other web services, adding custom UI elements to edit form data, and more.</p>
<p>We present examples of using Wildcard to solve real world problems, and explain the design principles behind the prototype. In the future, we envision growing Wildcard into a fully deployed system that helps make the web into a more malleable medium for all its users.</p>
<nav id="TOC" role="doc-toc">
<h2 id="toc-title">Contents</h2>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#demo-booking-a-trip-with-wildcard">Demo: booking a trip with Wildcard</a></li>
<li><a href="#system-architecture">System Architecture</a></li>
<li><a href="#design-principles">Design principles</a>
<ul>
<li><a href="#expose-consistent-structure">Expose consistent structure</a></li>
<li><a href="#low-floor-high-ceiling">Low floor, high ceiling</a></li>
<li><a href="#build-for-multiple-tiers-of-users">Build for multiple tiers of users</a></li>
</ul></li>
<li><a href="#related-work">Related work</a>
<ul>
<li><a href="#web-augmentation">Web augmentation</a></li>
<li><a href="#spreadsheet-based-app-builders">Spreadsheet-based app builders</a></li>
<li><a href="#web-scraping-data-extraction">Web scraping / data extraction</a></li>
</ul></li>
<li><a href="#limitations-and-future-work">Limitations and future work</a></li>
<li><a href="#conclusion">Conclusion</a></li>
<li><a href="#bibliography">References</a></li>
</ul>
</nav>
<h1 id="introduction">Introduction</h1>
<p>In 2012, the travel site Airbnb removed the ability to sort listings by price. Users could still filter by price range, but could no longer view the cheapest listings first. Many users complained on online message boards that the change seemed hostile to users. “It’s so frustrating!..What is the logic behind not having this function?” said one user on the <a href="https://community.withairbnb.com/t5/Hosting/Sorting-listing-by-price/td-p/559404">Airbnb support forum</a>. Alas, the feature remains missing to this day.</p>
<p>This is a familiar situation in a world of web applications that are frequently updated without user consent. Sometimes there is a browser extension or user script that fixes an issue, and if the user is both motivated and skilled they might even be able to implement their own fix. But for most people in most situations, the only recourse is to complain to the developers and pray that someone listens—or more likely, to simply give up. While many have become used to this status quo, we see it as a tremendous waste of the openness of the Web platform. Back in 1977, in <em>Personal Dynamic Media</em> <span class="citation" data-cites="kay1977">[<a href="#ref-kay1977" role="doc-biblioref">15</a>]</span>, Alan Kay had originally envisioned personal computing as a medium that let a user “mold and channel its power to his own needs,” but today’s software is more like concrete than clay.</p>
<p>In this paper, we introduce Wildcard, an extension framework embedded in the browser that lets users tweak web applications without programming in Javascript or interacting with the DOM. Wildcard shows a structured table view of the main data in a webpage, which maintains a live bidirectional connection to the original UI: when the user manipulates the table, the UI is instantly modified, and vice versa. This simple framework allows a wide range of possible modifications, ranging from sorting lists to fetching related data from other websites.</p>
<p>The system builds on two insights from prior work. The first insight is that a spreadsheet can serve as the backend for a GUI application, which enables an end user to build applications in an extremely accessible environment without doing traditional programming. The second insight is that web scraping—extracting structured data from an unstructured web page—unlocks value by making it possible to compute over that data. Our contribution in this work is to combine those two ideas in a novel way. By extracting structured data from an application and showing that data in a live spreadsheet table, Wildcard enables a wide class of end user modifications to existing applications. Wildcard makes it seem like an application is backed by a spreadsheet, even though the actual implementation is not. This allows the user to easily manipulate and compute over the application’s underlying data just as they would in a spreadsheet, and then to immediately see the results of their changes in the original application’s UI.</p>
<p>Wildcard embodies several principles we propose for designing systems that enable end user modification of existing software:</p>
<p><em>Expose consistent structure</em>: Most applications only expose a user interface, without showing the structure of the data underneath. Furthermore, every application has a different interface, requiring users to learn many ways of using apps. Wildcard shows data from diverse applications in a single consistent structure, so that users are able to invest in learning one mechanism for manipulating the data in their applications, and for programming with that data.</p>
<p><em>Low floor, high ceiling</em>: We aim to provide a low barrier to entry so that non-programmers can casually use the system, but a high ceiling on the complexity it can achieve. Small but genuinely valuable tweaks like sorting a page are made possible with little effort in the flow of normal use to provide a low floor, and a rich formula system creates a high ceiling on possible modifications.</p>
<p><em>Build for multiple tiers of users</em>: We aim to make Wildcard as easy as possible for end users, by designing roles for tiers of users with differing levels of technical sophistication. Programmers or tech-savvy end users are responsible for the data extraction step of mapping existing UIs to structured data. Most end users only interact with the structured data, providing a predictable and user-friendly experience.</p>
<p>Wildcard is currently an early research prototype, with incomplete features and limited coverage of sites. We plan to continue privately testing the system with our own use cases, and then to release the tool publicly, enabling other programmers to contribute site adapters and other plugins. Ultimately, we hope that Wildcard makes modifying websites into a natural part of using the web, as ubiquitous as using spreadsheets in everyday computing.</p>
<h1 id="demo-booking-a-trip-with-wildcard">Demo: booking a trip with Wildcard</h1>
<p>To get a sense of how it might feel to use Wildcard, let’s see an example of someone using it to help with booking a trip on the travel sites Airbnb and Expedia.</p>
<p>The user starts by opening up the Airbnb search listings page to look for a place to stay. The page looks nice and mostly works well, but is missing some key features. As mentioned before, this page doesn’t allow the user to sort by price. It also doesn’t let them filter by user rating. Using Wildcard, the user can add these small features, while leaving the page’s design and the rest of its functionality unchanged.</p>
<p>First, the user opens up the Wildcard panel, which shows a table corresponding to the search results in the page. As they click around in the table, the corresponding row in the page is highlighted so they can see the connection between the views.</p>
<video width="100%" controls="controls" preload="auto" muted="muted" src="media/table.mp4#t=0.1" muted playsinline controls class>
</video>
<p>Then, the user can use standard spreadsheet column header features to sort the page by price and filter by rating:</p>
<video width="100%" controls="controls" preload="auto" muted="muted" src="media/sort-filter.mp4#t=0.1" muted playsinline controls class>
</video>
<p>Notice how after manipulating the data, the user was able to close the table view and continue using the website with its original visual design. The table view offers a way to change the data backing a page, but does not need to replace the original interface entirely.</p>
<p>Most websites that show lists of data also offer actions that can be taken on a row in the table, like adding an item to a shopping cart. Wildcard has the ability to make these actions available in the data table if the site adapter implements them. The main advantage this provides is the ability to easily perform an action in bulk across multiple rows.</p>
<p>For example, it’s tedious on Airbnb to click on listings one by one to add them to a list of favorites. Using Wildcard, we can just select multiple rows and favorite all of them with one click. Similarly, we can also open the detailed pages for many listings in new tabs.</p>
<video width="100%" controls="controls" preload="auto" muted="muted" src="media/favorite-open.mp4#t=0.1" muted playsinline controls class>
</video>
<p>Now the user would like to jot down some notes on the pros and cons of each listing. To do this, they can simply type notes into an additional column next to each listing, and the notes appear inside the listings in the original UI. These annotations are also persisted in the browser for future retrieval.</p>
<video width="100%" controls="controls" preload="auto" muted="muted" src="media/annotate.mp4#t=0.1" muted playsinline controls class>
</video>
<p>Wildcard also includes a formula language which enables more sophisticated tweaks that fetch external data and perform computations.</p>
<p>When traveling without a car, it’s nice to evaluate potential places to stay based on how walkable the surroundings. Using Wildcard formulas, we can integrate Airbnb with Walkscore, an API that rates the walkability of any location on a 1-100 scale. When we call the <code>WALKSCORE</code> formula with the latitude and longitude of the listing, it returns the walk score as the cell value. Because the cell’s contents are injected into the page, the score also shows up in the page body.</p>
<video width="100%" controls="controls" preload="auto" muted="muted" src="media/walkscore.mp4#t=0.1" muted playsinline controls class>
</video>
<p>It might seem that Wildcard is only useful on websites that display lists of tabular data like search results. But in fact, the table metaphor is flexible enough to represent many types of data. For example, a form can be represented as a single row, with a column for each input.</p>
<video width="100%" controls="controls" preload="auto" muted="muted" src="media/expedia-table.mp4#t=0.1" muted playsinline controls class>
</video>
<p>In previous examples the data extracted from the site was marked as read-only; users cannot change the name or price of an Airbnb listing. In this next case, the cells are marked as writable, so that changes in the table are reflected in the form inputs. This becomes useful when combined with GUI widgets for editing the value of a table cell.</p>
<p>Filling in dates for a flight search typically requires opening up a separate calendar app to find the right dates, and then manually copying them into the form. In Wildcard, we can make this easier by providing a datepicker widget that has privileged access to the user’s calendar information.</p>
<video width="100%" controls="controls" preload="auto" muted="muted" src="media/datepicker.mp4#t=0.1" muted playsinline controls class>
</video>
<p>Here we’ve presented just a few possibilities for how to use Wildcard. We think the interactive data table offers a flexible computational model that can support a wide range of other useful modifications, all while remaining familiar and easy to use.</p>
<h1 id="system-architecture">System Architecture</h1>
<p>Wildcard is written in Typescript. It is currently injected into pages using the <a href="https://www.tampermonkey.net/">Tampermonkey</a> userscript manager, but in the future we plan to deploy it as a standalone browser extension to make it easier to install.</p>
<p>In order to maximize extensibility, Wildcard is implemented as a small core program along with several types of plugins: site adapters, formulas, and cell renderers/editors. The core contains functionality for displaying the data table and handling user interactions, and the table implementation is built using the <a href="https://handsontable.com/">Handsontable</a> Javascript library.</p>
<figure>
<img src="media/architecture-clean.png" alt="" /><figcaption>The architecture of the Wildcard system</figcaption>
</figure>
<p>Site adapters specify the bidirectional connection between the web page and its structured data representation.</p>
<p>For extracting data from the page and getting it into structured form, Wildcard provides ways to concisely and declaratively express scraping logic. For example, here is a code snippet for extracting the name of an Airbnb listing. It specifies the field name and some metadata properties, and then a function that, given the entire listing, returns the DOM element representing the name of the listing.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb1-1"><a href="#cb1-1"></a>  <span class="op">{</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>    fieldName<span class="op">:</span> <span class="st">&quot;name&quot;</span><span class="op">,</span></span>
<span id="cb1-3"><a href="#cb1-3"></a>    readOnly<span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>    type<span class="op">:</span> <span class="st">&quot;text&quot;</span><span class="op">,</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>    el<span class="op">:</span> (row) <span class="kw">=&gt;</span> <span class="va">row</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="vs">`.</span><span class="sc">${</span>titleClass<span class="sc">}</span><span class="vs">`</span>)<span class="op">,</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>  <span class="op">}</span></span></code></pre></div>
<p>The site adapter also needs to support the reverse direction: sending updates from the table to the original page. Most DOM manipulation is not performed directly by the site adapter: the adapter specifies how to find the divs representing data rows, and the core platform mutates the DOM to reflect the table state. The only exception is site-specific actions (like favoriting in Airbnb): actions are implemented as regular Javascript functions running in the context of the page, which can mutate the DOM, simulate clicks on buttons in the UI, launch AJAX requests, navigate to new pages, etc.</p>
<h1 id="design-principles">Design principles</h1>
<p>The design of Wildcard is grounded in several principles, informed by prior work and our own experimentation. We think these principles extend beyond Wildcard and might inform the design of other end user programming tools, particularly systems enabling users to modify GUI apps.</p>
<h2 id="expose-consistent-structure">Expose consistent structure</h2>
<p>Today, most personal computing consists of using distinct apps, each one an isolated silo of concepts, interfaces, data, and functionality. While there are some shared idioms and limited points of interoperability, the fundamental expectation is that each app operates independently. If a new need emerges, a user must hope “there’s an app for that”; creating a new tool to meet the need is often out of the question.</p>
<p>Computing does not need to operate this way. As one example, UNIX offers a compelling alternate vision of small tools connected through a common abstraction of text files. UNIX requires users to build up a structured understanding of the system, which then allows them to flexibly react to new needs not served by existing tools. Users can also deeply master a text editor and use it for a vast array of tasks, even as an interactive input mechanism in shell programs (e.g. for editing git commit messages). Beaudouin-Lafon and Mackay call this style of interaction <em>polymorphic</em> <span class="citation" data-cites="beaudouin-lafon2000">[<a href="#ref-beaudouin-lafon2000" role="doc-biblioref">2</a>]</span>, since a single interface can be used in many contexts. diSessa <span class="citation" data-cites="disessa2000">[<a href="#ref-disessa2000" role="doc-biblioref">8</a>]</span> notes the deep connection between polymorphism and literacy: textual literacy rests on a single rich medium of writing, which once mastered, can be adapted to many different genres and uses. If people needed to relearn from scratch when switching from writing essays to writing emails, the medium would lose most of its potency; this is the situation in software today.</p>
<p>With Wildcard, we hope to make isolated Web applications work a little bit more like UNIX, by imposing a consistent and simple structure onto many isolated applications. Just as UNIX uses text files to represent all data, Wildcard uses relational tables. This abstraction strikes a balance between being simple and generic: a data table is much simpler than the DOM tree that describes all the details of the UI, but is also generic enough to describe the essence of many different interfaces.</p>
<figure>
<img src="media/structure.png" alt="" /><figcaption>Wildcard layers the consistent structure of a data table over different isolated applications.</figcaption>
</figure>
<p>Exposing more structured data to users provides improved quality and consistency of user interfaces. When UI widgets can compete on their merits rather than having a monopoly on a given data silo or application, it creates stronger competition at the interface level. For example, there is competition among email clients which consume an open protocol, but not among Facebook or Twitter clients. Exposing structure also leads to improved UI consistency across apps: UNIX users can reuse their text editor everywhere, but Web users must use a different rich text editor for each site. Tim Berners-Lee has written in more detail about these benefits <span class="citation" data-cites="berners-lee2018">[<a href="#ref-berners-lee2018" role="doc-biblioref">4</a>]</span> in the context of the SOLID project, which envisions user-controlled data as a mechanism for decoupling data from interfaces, e.g. giving users a choice of which client to use to consume a given social media feed. Wildcard has overlapping goals with SOLID, but does not require decentralized user control of data—the data can remain on a centralized server, as long as the interface can be tweaked by end users.</p>
<p>Layering a structured view on top of an existing application is not the only option available. “Sloppy programming” systems like Chickenfoot <span class="citation" data-cites="bolin2005">[<a href="#ref-bolin2005" role="doc-biblioref">5</a>]</span> and CoScripter <span class="citation" data-cites="leshed2008">[<a href="#ref-leshed2008" role="doc-biblioref">17</a>]</span> forego the intermediate layer of structure, instead allowing users to create scripts in an informal language and then perform fuzzy pattern matching to find elements in the DOM. For example, to find a button after a textbox in Chickenfoot, the user could type <code>click(find(“button just after textbox”))</code>. These designs allow for expressing a wide range of operations, but they don’t explicitly indicate what operations are possible—the user can only see the original page and imagine the possibilities. In contrast, Wildcard provides affordances that clearly suggest the availability of certain actions (e.g. sorting, editing a cell, adding a column with a derived value), especially to users who are familiar with spreadsheets. In addition to giving users more certainty about whether a modification is possible, these affordances might improve discoverability and give users new ideas for things to try. “Sloppy programming” does give end-users greater access to modify the apps that they use, but does not seem to provide them with a deeper understanding of those apps or how they relate to each other, so the apps are more likely to remain siloed.</p>
<p>One key challenge of making a structured view successful is ensuring a close mapping in the user’s mind between the new representation and the original page. Wildcard provides live visual cues as the user navigates the data table (similar to the highlighting provided by DOM inspectors in browser developer tools). In our own usage, we have found that this live highlighting makes it very clear how the two representations map to each other.</p>
<h2 id="low-floor-high-ceiling">Low floor, high ceiling</h2>
<p>In order to serve the widest possible audience, Wildcard is designed for tweaking existing software for one’s own needs, rather than building from scratch. Not everyone wants to build a new app, but most people have complaints about the software they use, which they might be willing to address themselves if it were easy enough.</p>
<table>
<tbody>
<tr class="odd">
<td></td>
<td style="text-align: left;"><em>Casual</em></td>
<td style="text-align: left;"><em>Not casual</em></td>
</tr>
<tr class="even">
<td><em>End user friendly</em></td>
<td style="text-align: left;"><strong>Wildcard</strong></td>
<td style="text-align: left;">IFTTT</td>
</tr>
<tr class="odd">
<td><em>Requires programming</em></td>
<td style="text-align: left;">browser dev tools</td>
<td style="text-align: left;">editing open source software</td>
</tr>
</tbody>
</table>
<p>We can evaluate a system for tweaking software along two dimensions. First, the technical capability required of the user: is programming knowledge needed? Second, the investment required: how much effort must the user invest to make a change? Can they casually make a small change, or do they need to make a larger project out of it? These dimensions are not orthogonal, but they are distinct. For example, setting up a workflow trigger in an end user programming system like <a href="https://ifttt.com/">IFTTT</a> does not require much technical skill, but it does require leaving the user’s normal software and entering a separate environment. On the other hand, running a Javascript snippet in the browser console requires programming skills, but can be done immediately and casually in the flow of using a website.</p>
<p>In addition to requiring no programming skills, Wildcard supports frequent, small modifications. The Wildcard table appears in the course of normal web browsing, to ensure that the tools for modification are close at hand while using the original software. Ink and Switch refers to this property as having an “in-place toolchain” <span class="citation" data-cites="inkandswitch2019">[<a href="#ref-inkandswitch2019" role="doc-biblioref">14</a>]</span>. Wildcard also provides live feedback, immediately editing the page in response to user interaction, which gives users confidence in the changes they are making.</p>
<p>Spreadsheets can be used in genuinely useful ways even by someone who has learned only a tiny part of their functionality, e.g. for storing tables of numbers or computing simple sums <span class="citation" data-cites="nardi1991">[<a href="#ref-nardi1991" role="doc-biblioref">21</a>]</span>. This creates inherent motivation to continue using the tool and eventually learn its more powerful features. In contrast, many traditional programming systems require an enormous time investment before a beginner is able to create any valuable software. Like spreadsheets, Wildcard aims to support genuinely useful actions with little effort: for example, sorting a table with a single click, or adding an annotation by typing into a cell. We would expect many Wildcard users to start by using these bits of functionality, before possibly moving on to more complex features like formulas.</p>
<h2 id="build-for-multiple-tiers-of-users">Build for multiple tiers of users</h2>
<p>Some end user programming systems are designed with a single user in mind—a lone non-programmer, needing to achieve a task through some combination of individual skills and a powerful tool. But in fact, real-world usage of end user programming systems is far more collaborative. Spreadsheets are built together by users with different levels of technical expertise: some users just write simple formulas, while their officemates help write more complex formulas or even program macros in traditional languages <span class="citation" data-cites="nardi1990">[<a href="#ref-nardi1990" role="doc-biblioref">20</a>]</span>. Our goal with Wildcard is to consider the full ecosystem of users and to design a tool that best combines all of their abilities.</p>
<p>This design principle is most salient in our approach to building site adapters. Many web augmentation projects aim to make the full process of tweaking available to end users with no programmer help needed, through a combination of automated heuristics and interactive feedback. This is a laudable goal because it makes these tools work with any site, and these approaches are often quite successful, but they also inevitably break down sometimes <span class="citation" data-cites="bolin2005">[<a href="#ref-bolin2005" role="doc-biblioref">5</a>]</span> <span class="citation" data-cites="little2010">[<a href="#ref-little2010" role="doc-biblioref">18</a>]</span>. In contrast, human programmers working together have been able to maintain stable scraping libraries, even for complex sites like Gmail <span class="citation" data-cites="streak talwar2019">[<a href="#ref-streak" role="doc-biblioref">22</a>, <a href="#ref-talwar2019" role="doc-biblioref">23</a>]</span>. Our primary approach to building site adapters is having programmers manually create them, because we are willing to trade off lower site coverage in return for more reliable results on the sites that are covered, building confidence for users. Like the collaboration between an expert and novice spreadsheet user, this architecture leverages more skilled programmers while still providing end users with a flexible programming environment to meet their own needs. On the other hand, we remain very open to incorporating other tools in the future that enable end users to also create their own adapters.</p>
<figure>
<img src="media/adapters.png" alt="" /><figcaption>Having third party programmers create site adapters balances site coverage and adapter quality.</figcaption>
</figure>
<p>In any system for tweaking software, another important consideration is how to involve the first party developers of the original software. Our approach is to avoid depending on their cooperation, but also to aim for eventual cooperation.</p>
<p>This approach takes advantage of the unusual openness of the Web platform. On many other platforms (e.g. smartphone operating systems), software is locked down unless first-party developers explicitly provide hooks for plugins and interoperability, but on the Web, all client-side code is available for browser extensions to modify. Application authors can use practices that make it easier to modify their apps (e.g. clean semantic markup), or more difficult (e.g. code obfuscation), but the default state is openness. This gives extensions freedom to modify applications in creative ways that the original developers did not plan for. At the most extreme, this can even include modifications that are hostile to the desires of the original developers. Although ad blocking extensions make this style of extension very prominent, most ideas for extending software merely fall outside the range of possibilities originally imagined by the developer, rather than being actively hostile.</p>
<p>Wildcard takes advantage of this openness, and does not depend on cooperation from first-party website developers: any programmer can add support for any website to Wildcard by building a third party adapter. But the platform is still open to first parties developing their own adapters, which would often be in their interests. Providing Wildcard support would allow users to build extensions to fulfill their own feature requests. It also would not necessarily require much effort: adding Wildcard support would be more straightforward for a first-party than a third-party because they have direct access to the structured data in the page. There is also precedent for first parties implementing an official client extension API in response to user demand: for several years, Google maintained an official extension API in Gmail for Greasemonkey scripts to use. (Incidentally, since then, third parties have continued to maintain stable Gmail extension APIs used by many browser extensions <span class="citation" data-cites="streak talwar2019">[<a href="#ref-streak" role="doc-biblioref">22</a>, <a href="#ref-talwar2019" role="doc-biblioref">23</a>]</span>, illustrating the potential of collaboratively maintaining third party adapters.)</p>
<h1 id="related-work">Related work</h1>
<p>In the broadest sense, Wildcard is inspired by systems aiming to make software into a dynamic medium where end users frequently create and modify software to meet their own needs, rather than only consuming applications built by programmers. These systems include Smalltalk <span class="citation" data-cites="kay1977">[<a href="#ref-kay1977" role="doc-biblioref">15</a>]</span>, Hypercard <span class="citation" data-cites="hypercard2019">[<a href="#ref-hypercard2019" role="doc-biblioref">13</a>]</span>, Boxer <span class="citation" data-cites="disessa1986">[<a href="#ref-disessa1986" role="doc-biblioref">9</a>]</span>, Webstrates <span class="citation" data-cites="klokmose2015">[<a href="#ref-klokmose2015" role="doc-biblioref">16</a>]</span>, and Dynamicland <span class="citation" data-cites="victor">[<a href="#ref-victor" role="doc-biblioref">24</a>]</span>. (The project’s name Wildcard comes from the internal pre-release name for Hypercard, which doubly inspired our work by promoting both software modification by end users and the ideas behind the Web.)</p>
<p>While similar in high-level goals, Wildcard employs a different solution strategy from these projects: whereas they generally require building new software from scratch for that environment, Wildcard instead aims to maximize the malleability of already existing software. This approach has the pragmatic benefit of immediately being useful in a much broader context, although it also requires working within rigid constraints. We also see Wildcard growing beyond its current bounds and becoming more similar in the future to these other systems. With substantial future work, Wildcard could grow from merely being a platform for tweaking existing software into a platform for building new software from scratch, designed from the ground up for end user tweakability.</p>
<p>More narrowly, Wildcard builds on three areas of existing work: web augmentation, spreadsheet-based app development, and web scraping. Our contribution in this work is to combine these areas in a new way: extracting structured data from a website and directly exposing it to the user as a live data table, with the end goal of modifying an existing application. We think this combination builds on valuable ideas and learnings from each of the areas, while also overcoming some of the downsides of each.</p>
<h2 id="web-augmentation">Web augmentation</h2>
<p>Wildcard’s goals are closely shared with other systems that provide interfaces in the browser for end users to augment and modify websites while using them.</p>
<h3 id="structured-augmentation">Structured augmentation</h3>
<p>Wildcard’s approach is most similar to a class of tools that identify structured data in a web page, and use that structure to support end user modification of the page.</p>
<p>Sifter <span class="citation" data-cites="huynh2006">[<a href="#ref-huynh2006" role="doc-biblioref">11</a>]</span> enables users to sort and filter lists of data on web pages, providing a result similar to Wildcard’s sort and filter functionality. The underlying mechanism is also similar: Sifter extracts structured data from the page to enable its user-facing functionality. Wildcard aims to extend this approach to support much broader functionality than just sorting and filtering. In support of this goal, Wildcard also shows the structured data table directly to the user, whereas Sifter only shows sort and filter controls, without revealing the underlying data table. The extraction mechanism is also different: Sifter uses a combination of automated heuristics and interactive user feedback to extract data, whereas Wildcard currently relies on programmers creating wrappers for extracting structured data, likely leading to higher quality extraction but on fewer sites.</p>
<p>Thresher <span class="citation" data-cites="hogue2005">[<a href="#ref-hogue2005" role="doc-biblioref">10</a>]</span> enables users to create wrappers which map unstructured website content to Semantic Web content. Like Wildcard and Sifter, Thresher augments the experience of original page based on identifying structure: once semantic content has been identified, it creates context menus in the original website which allow users to take actions based on that content. Wildcard and Thresher share an overall approach but focus on complementary parts of the problem: Thresher aims to enable end users to create content wrappers, but the actions available on the structured data are created by programmers; conversely, Wildcard delegates wrapper creation to programmers but gives end users more flexibility to use the structured data in an open-ended way.</p>
<h3 id="sloppy-augmentation">Sloppy augmentation</h3>
<p>“Sloppy programming” <span class="citation" data-cites="little2010">[<a href="#ref-little2010" role="doc-biblioref">18</a>]</span> tools like Chickenfoot <span class="citation" data-cites="bolin2005">[<a href="#ref-bolin2005" role="doc-biblioref">5</a>]</span> and Coscripter <span class="citation" data-cites="leshed2008">[<a href="#ref-leshed2008" role="doc-biblioref">17</a>]</span> enable users to create scripts that perform actions like filling in text boxes and clicking buttons, without directly interacting with the DOM. Users express the desired page elements in natural, informal terms (e.g. writing “the username box” to represent the textbook closest to the label “username”), and then using heuristics to determine which elements most likely match the user’s intent. This approach allows for expressing a wide variety of commands with minimal training, but it also has downsides. It is difficult to know whether a command will consistently work over time (in addition to changes to the website, changes to the heuristics can also cause problems), and it is not easy for users to discover the space of possible commands.</p>
<p>Wildcard offers a sharp contrast to sloppy programming, instead choosing to expose a high degree of structure through the familiar spreadsheet table. Wildcard offers more consistency: for example, clicking a sort header will always work correctly as long as the site adapter is maintained. Wildcard also offers clearer affordances for what types of actions are possible, or, crucially, what actions are <em>not</em> possible, which is useful to know. On the other hand, Wildcard cannot offer coverage of all websites, and has a narrower range of possible actions than sloppy tools. We expect that with enough site adapters and formulas, these downsides can be mitigated.</p>
<h2 id="spreadsheet-based-app-builders">Spreadsheet-based app builders</h2>
<p>Prior work has made the powerful realization that a spreadsheet can serve as an end-user-friendly backing data store and computation layer for an interactive web application. Research projects like Object Spreadsheets <span class="citation" data-cites="mccutchen2016">[<a href="#ref-mccutchen2016" role="doc-biblioref">19</a>]</span>, Quilt <span class="citation" data-cites="benson2014">[<a href="#ref-benson2014" role="doc-biblioref">3</a>]</span>, Gneiss <span class="citation" data-cites="chang2014">[<a href="#ref-chang2014" role="doc-biblioref">6</a>]</span>, and Marmite <span class="citation" data-cites="wong2007">[<a href="#ref-wong2007" role="doc-biblioref">25</a>]</span>, as well as commercial tools like Airtable Blocks <span class="citation" data-cites="zotero-79">[<a href="#ref-zotero-79" role="doc-biblioref">26</a>]</span> and Glide <span class="citation" data-cites="zotero-81">[<a href="#ref-zotero-81" role="doc-biblioref">27</a>]</span> allow users to view data in a spreadsheet table, compute over the data using formulas, and connect the table to a GUI. Because many users are already familiar with using spreadsheets, this way of creating applications tends to be far easier than traditional software methods; for example, in a user study of Quilt, many people were able to create applications in under 10 minutes, even if they expected it would take them many hours.</p>
<p>Wildcard builds on this idea, but applies it to modifying existing applications, rather than building new applications from scratch. For many people, we suspect that tweaking existing applications provides more motivation as a starting point for programming than creating a new application from scratch.</p>
<p>An important design decision for tools in this space is how to deviate from traditional spreadsheets like Microsoft Excel or Google Sheets. Quilt and Glide use existing spreadsheet software as a backend, providing maximum familiarity for users, and even compatibility with existing spreadsheets. Gneiss has its own spreadsheet implementation with additional features useful for building GUIs. Marmite provides a live data view that resembles a spreadsheet, but programming is actually done using a separate data flow pane rather than spreadsheet formulas. (Marmite’s approach led to some confusion in a user study, because users expected behavior more similar to spreadsheets <span class="citation" data-cites="wong2007">[<a href="#ref-wong2007" role="doc-biblioref">25</a>]</span>.) Airtable deviates the furthest: although the user interface resembles a spreadsheet, the underlying structure is a relational database with typed columns. Wildcard’s table is most similar to Airtable; the structure of a relational table is most appropriate for most data in websites, and we have not yet found a need for arbitrary untyped cells.</p>
<h2 id="web-scraping-data-extraction">Web scraping / data extraction</h2>
<p>Web scraping tools focus on extracting structured data out of unstructured web pages. Web scraping is closely related to the implementation of Wildcard, but has different end goals: web scraping generally extracts static data for processing in another environment, whereas Wildcard modifies the original page by maintaining a bidirectional connection between the extracted data and the page.</p>
<p>Web scraping tools differ in how much structure they attempt to map onto the data. Some tools like Rousillon <span class="citation" data-cites="chasins2018">[<a href="#ref-chasins2018" role="doc-biblioref">7</a>]</span> extract data in a minimally structured relational format; other tools like Piggy Bank <span class="citation" data-cites="huynh2005">[<a href="#ref-huynh2005" role="doc-biblioref">12</a>]</span> more ambitiously map the data to a rich semantic schema. In Wildcard, we chose to avoid schemas, in order to minimize the work associated with creating a site adapter.</p>
<p>In the future, we might be able to integrate web scraping tools to help create more reliable site adapters for Wildcard with less work, and to open up adapter creation to end users. Sifter was built on top of the Piggy Bank scraping library, suggesting precisely this type of architecture where web scraping tools are used to support interactive page modification.</p>
<h1 id="limitations-and-future-work">Limitations and future work</h1>
<p>Wildcard is still in early development; there are still many limitations to resolve and open questions to explore.</p>
<p>The most important question is whether the combination of features provided by Wildcard can be combined in enough useful ways to make the system worth using in practice. While initial demos are promising, we need to develop more site adapters and use cases to more fully assess this question. We plan to continue privately testing the system with our own needs, and to eventually deploy the tool publicly, once the API is stable enough and can support a critical mass of sites and use cases. We also plan to run usability studies to evaluate and improve the design of the tool.</p>
<p>Here are a few of the largest limitations in the current system:</p>
<ul>
<li>Wildcard only extracts data visible on the page, which means that subsequent pages of results in paginated lists are not included in the table. (Sifter <span class="citation" data-cites="huynh2006">[<a href="#ref-huynh2006" role="doc-biblioref">11</a>]</span> uses techniques that might help get around this.)</li>
<li>There is no mechanism for end users to express imperative workflows (e.g. “click this button, and then…”); they can only write formulas that return data and then inject the resulting data into the page. While this makes the system simpler, it also may exclude many valuable use cases. We may add a system for expressing workflows like this, although it’s not obvious how it would fit together with the existing table view. Gneiss <span class="citation" data-cites="chang2014">[<a href="#ref-chang2014" role="doc-biblioref">6</a>]</span> contains some mechanisms for writing spreadsheet formulas which can handle behaviors like reloading data in response to a user pressing a button, which might prove helpful.</li>
<li>Wildcard’s data model only shows a single table at a time, without any notion of relationships between tables. A richer data model with foreign keys might be necessary to support certain use cases. For designing a tabular interface on top of a richer data model, we could learn from the interface of Airtable which shows related objects in a table cell, or add nested rows as used in other systems <span class="citation" data-cites="mccutchen2016 bakke2016">[<a href="#ref-bakke2016" role="doc-biblioref">1</a>, <a href="#ref-mccutchen2016" role="doc-biblioref">19</a>]</span>.</li>
<li>Only allowing site adapters to be manually coded means that the number of supported sites is limited. We plan to explore abstractions that make it as easy as possible for programmers to efficiently create new robust adapters, as well as integrating automated heuristics into the adapter creation process.</li>
</ul>
<h1 id="conclusion">Conclusion</h1>
<p>We live in a time of pessimism about the effects of the internet and the degree of centralized control wielded by large corporations. We think that one promising approach to this problem is to enable people to have deeper control over the Web software they use every day. The Web offers the potential of an open foundation, but even the success of browser extensions has only empowered users within the limited confines of the ideas that programmers have decided to build.</p>
<p>In this paper, we have presented Wildcard, a browser-embedded programming system that maps websites to a structured data table, enabling end users to modify their behavior. We hope that it contributes to making the web into a more dynamic medium that users can mold to their own needs.</p>
<p>We plan to continue developing the system and to eventually deploy it as an open-source tool. To receive future updates on Wildcard and notifications about a public release, <a href="">sign up for the email newsletter</a>.</p>
<p>We are also looking for private beta testers. If you have an idea for how you might want to use Wildcard, <a href="mailto:glitt@mit.edu">please contact us</a>. We would love to collaborate on building site adapters and formulas to support your use case.</p>
<h1 class="unnumbered" id="bibliography" class="unnumbered">References</h1>
<div id="refs" class="references" role="doc-bibliography">
<div id="ref-bakke2016">
<p>[1] Bakke, E. and Karger, D.R. 2016. Expressive Query Construction through Direct Manipulation of Nested Relational Results. <em>Proceedings of the 2016 International Conference on Management of Data - SIGMOD ’16</em> (San Francisco, California, USA, 2016), 1377–1392.</p>
</div>
<div id="ref-beaudouin-lafon2000">
<p>[2] Beaudouin-Lafon, M. and Mackay, W.E. 2000. Reification, Polymorphism and Reuse: Three Principles for Designing Visual Interfaces. <em>Proceedings of the Working Conference on Advanced Visual Interfaces</em> (Palermo, Italy, 2000), 102–109.</p>
</div>
<div id="ref-benson2014">
<p>[3] Benson, E. et al. 2014. Spreadsheet driven web applications. <em>Proceedings of the 27th annual ACM symposium on User interface software and technology - UIST ’14</em> (Honolulu, Hawaii, USA, 2014), 97–106.</p>
</div>
<div id="ref-berners-lee2018">
<p>[4] Berners-Lee, T. 2018. One Small Step for the Web…. <em>Medium</em>. https://medium.com/@timberners_lee/one-small-step-for-the-web-87f92217d085.</p>
</div>
<div id="ref-bolin2005">
<p>[5] Bolin, M. et al. 2005. Automation and customization of rendered web pages. <em>Proceedings of the 18th annual ACM symposium on User interface software and technology - UIST ’05</em> (Seattle, WA, USA, 2005), 163.</p>
</div>
<div id="ref-chang2014">
<p>[6] Chang, K.S.-P. and Myers, B.A. 2014. Creating interactive web data applications with spreadsheets. <em>Proceedings of the 27th annual ACM symposium on User interface software and technology - UIST ’14</em> (Honolulu, Hawaii, USA, 2014), 87–96.</p>
</div>
<div id="ref-chasins2018">
<p>[7] Chasins, S.E. et al. 2018. Rousillon: Scraping Distributed Hierarchical Web Data. <em>The 31st Annual ACM Symposium on User Interface Software and Technology - UIST ’18</em> (Berlin, Germany, 2018), 963–975.</p>
</div>
<div id="ref-disessa2000">
<p>[8] diSessa, A.A. 2000. <em>Changing Minds: Computers, Learning, and Literacy</em>. MIT Press.</p>
</div>
<div id="ref-disessa1986">
<p>[9] diSessa, A.A. and Abelson, H. 1986. Boxer: A reconstructible computational medium. <em>Communications of the ACM</em>. 29, 9 (Sep. 1986), 859–868. DOI:<a href="https://doi.org/10.1145/6592.6595">https://doi.org/10.1145/6592.6595</a>.</p>
</div>
<div id="ref-hogue2005">
<p>[10] Hogue, A. and Karger, D. 2005. Thresher: Automating the unwrapping of semantic content from the World Wide Web. <em>Proceedings of the 14th international conference on World Wide Web - WWW ’05</em> (Chiba, Japan, 2005), 86.</p>
</div>
<div id="ref-huynh2006">
<p>[11] Huynh, D.F. et al. 2006. Enabling web browsers to augment web sites’ filtering and sorting functionalities. <em>Proceedings of the 19th annual ACM symposium on User interface software and technology - UIST ’06</em> (Montreux, Switzerland, 2006), 125.</p>
</div>
<div id="ref-huynh2005">
<p>[12] Huynh, D. et al. 2005. Piggy Bank: Experience the Semantic Web Inside Your Web Browser. <em>The Semantic Web ISWC 2005</em> (Berlin, Heidelberg, 2005), 413–430.</p>
</div>
<div id="ref-hypercard2019">
<p>[13] Hypercard 2019. HyperCard. <em>Wikipedia</em>. (Dec. 2019).</p>
</div>
<div id="ref-inkandswitch2019">
<p>[14] Ink and Switch 2019. End-user programming. <em>Ink and Switch</em>.</p>
</div>
<div id="ref-kay1977">
<p>[15] Kay, A. and Goldberg, A. 1977. Personal Dynamic Media. <em>Computer</em>. 10, 3 (Mar. 1977), 31–41. DOI:<a href="https://doi.org/10.1109/C-M.1977.217672">https://doi.org/10.1109/C-M.1977.217672</a>.</p>
</div>
<div id="ref-klokmose2015">
<p>[16] Klokmose, C.N. et al. 2015. Webstrates: Shareable Dynamic Media. <em>Proceedings of the 28th Annual ACM Symposium on User Interface Software &amp; Technology - UIST ’15</em> (Daegu, Kyungpook, Republic of Korea, 2015), 280–290.</p>
</div>
<div id="ref-leshed2008">
<p>[17] Leshed, G. et al. 2008. CoScripter: Automating &amp; Sharing How-to Knowledge in the Enterprise. <em>Proceedings of the SIGCHI Conference on Human Factors in Computing Systems</em> (Florence, Italy, 2008), 1719–1728.</p>
</div>
<div id="ref-little2010">
<p>[18] Little, G. et al. 2010. Sloppy programming. <em>No Code Required</em>. Elsevier. 289–307.</p>
</div>
<div id="ref-mccutchen2016">
<p>[19] McCutchen, M. et al. 2016. Object spreadsheets: A new computational model for end-user development of data-centric web applications. <em>Proceedings of the 2016 ACM International Symposium on New Ideas, New Paradigms, and Reflections on Programming and Software - Onward! 2016</em> (Amsterdam, Netherlands, 2016), 112–127.</p>
</div>
<div id="ref-nardi1990">
<p>[20] Nardi, B.A. and Miller, J.R. 1990. An Ethnographic Study of Distributed Problem Solving in Spreadsheet Development. (1990), 197–208.</p>
</div>
<div id="ref-nardi1991">
<p>[21] Nardi, B.A. and Miller, J.R. 1991. Twinkling lights and nested loops: Distributed problem solving and spreadsheet development. <em>International Journal of Man-Machine Studies</em>. 34, 2 (Feb. 1991), 161–184. DOI:<a href="https://doi.org/10.1016/0020-7373(91)90040-E">https://doi.org/10.1016/0020-7373(91)90040-E</a>.</p>
</div>
<div id="ref-streak">
<p>[22] Streak InboxSDK. https://www.inboxsdk.com/.</p>
</div>
<div id="ref-talwar2019">
<p>[23] Talwar, K. 2019. Gmail.Js. <em>GitHub</em>. https://github.com/KartikTalwar/gmail.js.</p>
</div>
<div id="ref-victor">
<p>[24] Victor, B. Dynamicland. https://dynamicland.org/.</p>
</div>
<div id="ref-wong2007">
<p>[25] Wong, J. and Hong, J.I. 2007. Making mashups with marmite: Towards end-user programming for the web. <em>Proceedings of the SIGCHI Conference on Human Factors in Computing Systems - CHI ’07</em> (San Jose, California, USA, 2007), 1435–1444.</p>
</div>
<div id="ref-zotero-79">
<p>[26] Airtable: Organize anything you can imagine. <em>Airtable</em>. https://airtable.com.</p>
</div>
<div id="ref-zotero-81">
<p>[27] Create an App from a Google Sheet in Minutes <span class="math inline">⋅</span> Glide. https://www.glideapps.com/.</p>
</div>
</div>
</body>
</html>