<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Geoffrey Litt and Daniel Jackson" />
  <title>Wildcard: Modifying web applications by directly manipulating a data table</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="basic.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>

<p style="background-color: #e50000;
color: white;
font-weight: bold;
padding: 10px; margin: 20px 0 0 0;">In-progress DRAFT. Please don't distribute!</p>

<header id="title-block-header">
<h1 class="title">Wildcard: Modifying web applications by directly manipulating a data table</h1>
<p class="author">Geoffrey Litt and Daniel Jackson</p>
</header>
<p>Browser extensions and user scripts can modify web applications in useful ways, but many people have unique needs that aren’t met by existing extensions. Today, most of them are stuck—they can’t build their own browser extensions without learning how to program in Javascript.</p>
<p>Wildcard is a platform that empowers anyone to build browser extensions without doing traditional programming. Wildcard shows the main data from a web page in a table with a bidirectional connection to the original page. People can directly manipulate the table to sort/filter content, add private annotations, and use spreadsheet formulas to fetch data from other websites.</p>
<nav id="TOC" role="doc-toc">
<h2 id="toc-title">Contents</h2>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#demo-booking-a-trip-with-wildcard">Demo: Booking a trip with Wildcard</a></li>
<li><a href="#implementation">Implementation</a></li>
<li><a href="#design-principles">Design principles</a>
<ul>
<li><a href="#expose-unified-structure-across-applications">Expose unified structure across applications</a></li>
<li><a href="#direct-manipulation-by-proxy">Direct manipulation by proxy</a></li>
<li><a href="#first-party-cooperation-optional">First party cooperation optional</a></li>
<li><a href="#in-place-toolchain">In-place toolchain</a></li>
<li><a href="#decouple-ui-from-data">Decouple UI from data</a></li>
</ul></li>
<li><a href="#related-work">Related work</a></li>
<li><a href="#future-work">Future work</a></li>
<li><a href="#meta-todos">meta: todos</a></li>
<li><a href="#bibliography">References</a></li>
</ul>
</nav>
<h1 id="introduction">Introduction</h1>
<p>Todos for the introduction:</p>
<ul>
<li>hook with Airbnb sort</li>
<li>add more bigger picture reasons, less focus on the affordances</li>
<li>assembling our own software: starts with <em>tweaks</em></li>
<li>make this shorter</li>
</ul>
<p>People have complaints about web apps they use, but they rarely modify those apps to meet their needs. Why not? Some guesses:</p>
<ul>
<li>Technical skill: Most people don’t know how to use Javascript and manipulate the DOM.</li>
<li>Low ROI: It takes a long time to reverse engineer a site, and it’s usually not worth it</li>
</ul>
<p>These seem reasonable but they might not tell the whole story.</p>
<p>There have been many research projects that try to address these hurdles. For example, Chickenfoot <span class="citation" data-cites="bolin2005">[<a href="#ref-bolin2005" role="doc-biblioref">1</a>]</span> allows for people to more quickly modify sites without using Javascript or dealing with the DOM, directly addressing both of these barriers. But, a decade later, not many people have ended up using systems like this.</p>
<p>I know how to do web programming, and yet I rarely modify my apps. Sometimes it actually turns out to be pretty easy to hack on a site once I start doing it so the ROI is actually pretty high. These reasons don’t seem to fully explain my behavior.</p>
<p>A disheartening explanation might be that most people just don’t care enough to make changes. This claim might be true in the current context, but it’s also important to remember that motivation is connected to culture and to the space of possibilities provided by our tools. Most people probably didn’t want to write letters before mass literacy.</p>
<p>One interesting explanation is that people can’t estimate the difficulty of a change. It’s not motivating to think about what changes I might want when I don’t know whether they would take a few minutes or are completely impossible. For me, an engineer, this gets at the heart of the issue. I know I could probably implement the change, but it’s so hard to estimate how long it would take (minutes? months?) that I don’t even bother trying. In general, when something seems expensive to do (or even possibly expensive), it can discourage casual lightweight experimentation.</p>
<p>So, perhaps to encourage people to casually modify software, apps need to provide more consistent affordances indicating what changes are possible and easy. Maybe if it were more obvious that certain types of changes could be achieved in mere minutes, programmers and non-programmers would end up modifying our software more.</p>
<h3 id="the-wildcard-platform">The Wildcard platform</h3>
<p>Wildcard adds a panel to the bottom of a web page that shows a structured table view of some of the core data in the page. When the user manipulates the table, the original page also gets modified. We aim to make the mapping between the table and the page as direct and intuitive as possible.</p>
<p>Todos here:</p>
<ul>
<li>a better demo is actually sorting too at this point too, to show the bidirectional nature</li>
<li>hint at future possibilities</li>
<li>introduce an image fallback for the PDF version</li>
</ul>
<div class="html-only">
<p>For example, here we open up a table view that corresponds to search results on the Airbnb travel site.</p>
<video width="100%" src="media/opentable.mp4" autoplay loop muted playsinline controls class>
</video>
</div>
<div class="pdf-only">

</div>
<p>Wildcard is fairly general and can support many useful changes to websites, which will be demoed later:</p>
<ul>
<li>sorting and filtering data: eg sorting shopping results</li>
<li>using 3rd-party APIs and performing small computations to add new data, in the style of “web mashups”: eg adding walkability scores to hotel listings</li>
<li>adding private user annotations to the page: eg taking notes on different options</li>
<li>using alternate UI widgets to enter data into a page: eg using a personal datepicker widget with private calendar data, to enter the right dates for taking a flight</li>
</ul>
<p>The overall goal is to provide generic tools that fit well with the table paradigm and enable many specific useful changes. But it’s important to note that Wildcard doesn’t aim to provide maximum coverage all the possible ways someone might want to modify a web page. Rather, it aims to provide a useful, simple subset of modifications, and to provide consistent affordances so that users confidently understand which modifications they can make.</p>
<h1 id="demo-booking-a-trip-with-wildcard">Demo: Booking a trip with Wildcard</h1>
<ul>
<li>Sorting search results:
<ul>
<li>Airbnb took away search</li>
<li>once you see the tabular view, there’s an obvious interaction available to anyone familiar with tables</li>
</ul></li>
<li>Injecting new data into the page
<ul>
<li>Take own custom notes, saved in the browser. Maybe shared in the future</li>
</ul></li>
<li>Formulas
<ul>
<li>Compute values to inject into the page</li>
<li>TBD: styling</li>
</ul></li>
<li>Using a custom date picker</li>
</ul>
<h1 id="implementation">Implementation</h1>
<p>Eventually web apps might provide the structured data table themselves. In the meantime, we need some sort of adapter to make this system work with existing sites.</p>
<p>Wildcard provides a system for creating a wrapper on top of existing websites. This wrapper defines how structured data can be extracted out of the page, and also how manipulating the table should modify the page.</p>
<p>The most basic way of building these wrappers is for skilled programmers to manually build and maintain them for popular sites. This approach beats the status quo because many people, including end users, can benefit from the generic wrapper and use it in many ways. This is different from the current world where programmers build use-case-specific browser extensions, and each extension has to implement its own interactions with the low-level DOM of a page. There’s also a greater incentive for many people to collectively maintain a wrapper if it’s shared.</p>
<p>A more advanced way would be to make these wrappers partially or totally automated, and enable end users to create them. This future work could leverage existing research on wrapper induction but isn’t the focus of the current work.</p>
<ul>
<li>Clarify what’s real and fake currently</li>
<li>Next implementation goals</li>
</ul>
<h1 id="design-principles">Design principles</h1>
<p>Here are some of the ideas behind the current design of Wildcard. We hope that these principles are also useful for thinking more broadly about enabling end users to modify software.</p>
<h2 id="expose-unified-structure-across-applications">Expose unified structure across applications</h2>
<p>Todo: diagram?</p>
<p>In <em>Changing Minds</em> <span class="citation" data-cites="disessa2000">[<a href="#ref-disessa2000" role="doc-biblioref">2</a>]</span>, Andrea diSessa critiques the design of modern software with a story about a hypothetical “nightmare bike.” Each gear on the nightmare bike is labeled not with a number, but with an icon describing its intended use: smooth pavement uphill, smooth pavement downhill, gravel, etc. By some logic, this is more “user-friendly” than numbered gears, but in fact, hiding orderly structure from the user makes it more difficult to operate the bike. Many modern software designs fall into this trap, teaching users to use isolated modes rather than coherent structure, and the problem gets far worse when operating across multiple applications. Unlike the UNIX philosophy of small tools interoperating through shared abstractions, in modern computing each application is in its own silo of data and functionality.</p>
<p>Wildcard helps people understand and modify the behavior of applications through the lens of a consistent abstraction: a data table. This abstraction strikes a balance between being both simple and generic. A data table is simpler than the DOM tree that describes the details of the UI, but is also generic enough to describe the essence of many different kinds of applications.</p>
<p>Exposing a unified higher-level abstraction is a deliberate choice, and is not the only way to enable users to program without directly using the DOM. Chickenfoot <span class="citation" data-cites="bolin2005">[<a href="#ref-bolin2005" role="doc-biblioref">1</a>]</span> and CoScripter <span class="citation" data-cites="leshed2008">[<a href="#ref-leshed2008" role="doc-biblioref">3</a>]</span> allow users to create scripts that resemble natural language and “sloppily” match queries to elements in the DOM. These designs allow for a wide range of operations, but don’t explicitly indicate what operations are possible—the user must look at the original page and imagine the possibilities. In contrast, Wildcard provides affordances that clearly suggest the availability of certain types of modifications. In addition to giving users more certainty about whether a modification is possible, these affordances might give users new ideas for things to try. Because people are not used to modifying web applications, providing inspiration is an important goal. (Todo: Perhaps something to cite here, re: discoverability in GUIs vs CLIs?)</p>
<h2 id="direct-manipulation-by-proxy">Direct manipulation by proxy</h2>
<p>In Wildcard, users manipulate a data table added to the page, rather than the original page. Although the interaction with the table is direct like using a spreadsheet, the interaction with the page is indirectly mediated through the table.</p>
<p>We considered other approaches where the user would interact more directly with the original UI, e.g. injecting sort controls into the page, but decided that the consistency and affordances of the table view outweighed the potential confusion of a new layer of indirection.</p>
<p>Making this design successful requires maintaining a close mapping in the user’s mind between the new representation and the original page (cite Norman? Cognitive Dimensions?). Wildcard provides live visual cues as the user navigates the data table, similar to the highlighting provided by browser developer tools to indicate the mapping between HTML and the original page.</p>
<figure>
<img src="media/devtools.png" id="fig:devtools" alt="" /><figcaption>The Chrome Dev Tools use highlighting to show the mapping between HTML code and the page</figcaption>
</figure>
<h2 id="first-party-cooperation-optional">First party cooperation optional</h2>
<p>The Web is an unusually extensible platform. On many other platforms (e.g. smartphone operating systems), software is locked down unless first-party developers explicitly provide hooks for plugins and interoperability, but on the Web, all client-side code is available for browser extensions to modify. Application authors can use practices that make it easier to modify their apps (e.g. clean semantic markup), or more difficult (e.g. code obfuscation), but the default state is openness. This gives extensions freedom to modify applications in creative ways that the original developers did not plan for.</p>
<p>Wildcard takes advantage of this openness, and does not depend on cooperation from first-party website developers. Any programmer can add support for any website to Wildcard by building a third party adapter. This design acknowledges the pragmatic reality that most sites today will not have Wildcard support built in, and more broadly do not prioritize client side extensibility.</p>
<p>However, we also hope that first party website developers eventually build in Wildcard support to their applications, which would reduce the burden of maintaining adapters and make Wildcard plugins more stable. While this might seem optimistic, implementing the Wildcard adapter API could be straightforward in a typical client-side application that already has access to a structured version of the data in the page. There is also precedent for first parties implementing an official client extension API in response to user demand: for several years, Google exposed an extension API in Gmail for Greasemonkey scripts to use. (Since then, third parties have created well-maintained alternatives <span class="citation" data-cites="streak talwar2019">[<a href="#ref-streak" role="doc-biblioref">4</a>, <a href="#ref-talwar2019" role="doc-biblioref">5</a>]</span>, illustrating the value of sharing even third party adapters.)</p>
<h2 id="in-place-toolchain">In-place toolchain</h2>
<ul>
<li>in-place toolchain: meet the user where they are, in the page</li>
</ul>
<h2 id="decouple-ui-from-data">Decouple UI from data</h2>
<ul>
<li>bring your own views of the data</li>
<li>bring your own widgets for data entry</li>
<li>instrumental interaction</li>
</ul>
<h1 id="related-work">Related work</h1>
<ul>
<li>Instrumental interaction</li>
<li>Web automation</li>
<li>Wrapper induction</li>
<li>Personal data</li>
<li>Extension helpers</li>
</ul>
<h1 id="future-work">Future work</h1>
<ul>
<li>still early: plan to release</li>
<li>How far does functionality go?
<ul>
<li>workflows? triggers?</li>
<li>what can and can’t be done</li>
</ul></li>
<li>automated wrappers?
<ul>
<li>lean on existing tech</li>
</ul></li>
<li>usability studies</li>
<li>sign up for future updates</li>
</ul>
<h1 id="meta-todos">meta: todos</h1>
<ul>
<li>remove bold text for the proceedings version</li>
<li>go through the Programming proceedings template checklist</li>
</ul>
<h1 class="unnumbered" id="bibliography" class="unnumbered">References</h1>
<div id="refs" class="references" role="doc-bibliography">
<div id="ref-bolin2005">
<p>[1] Bolin, M. et al. 2005. Automation and customization of rendered web pages. <em>Proceedings of the 18th annual ACM symposium on User interface software and technology - UIST ’05</em> (Seattle, WA, USA, 2005), 163.</p>
</div>
<div id="ref-disessa2000">
<p>[2] diSessa, A.A. 2000. <em>Changing Minds: Computers, Learning, and Literacy</em>. MIT Press.</p>
</div>
<div id="ref-leshed2008">
<p>[3] Leshed, G. et al. 2008. CoScripter: Automating &amp; Sharing How-to Knowledge in the Enterprise. <em>Proceedings of the SIGCHI Conference on Human Factors in Computing Systems</em> (New York, NY, USA, 2008), 1719–1728.</p>
</div>
<div id="ref-streak">
<p>[4] Streak InboxSDK. https://www.inboxsdk.com/.</p>
</div>
<div id="ref-talwar2019">
<p>[5] Talwar, K. 2019. Gmail.Js. <em>GitHub</em>. https://github.com/KartikTalwar/gmail.js.</p>
</div>
</div>
</body>
</html>