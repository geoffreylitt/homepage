---
import BaseLayout from './BaseLayout.astro';

export interface Props {
  title: string;
  date: Date;
  summary?: string;
  description?: string;
  image?: string;
}

const { title, date, summary, description, image } = Astro.props;

const formattedDate = date.toLocaleDateString('en-US', { 
  year: 'numeric', 
  month: 'long' 
});
---

<BaseLayout title={title} description={description || summary} image={image}>
  <div class="one-column">
    <article class="blogpost full">
      <h3 class="date">{formattedDate}</h3>
      <h1 class="title">{title}</h1>
      {summary && <p class="summary">{summary}</p>}
      <div class="content">
        <slot />
      </div>

      <div class="subscribe">
        <h4>Subscribe</h4>
        I periodically write about programming tools, end-user programming, and other software topics. To get updates about new posts:

        <div class="subscribe-links">
          <div></div>
          <a href="https://buttondown.email/geoffreylitt" style="margin-right: 15px;">
            <i class="fa fa-envelope"></i>
            Join my email newsletter
          </a>
          <a href="http://www.twitter.com/geoffreylitt" style="margin-right: 15px;">
            <i class="fa fa-twitter"></i>
            Follow me on Twitter
          </a>
          <a href="/feed.xml">
            <i class="fa fa-rss"></i>
            Subscribe via RSS
          </a>
        </div>
      </div>
    </article>
  </div>

  <script is:inline src="//cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
  <script is:inline>
    anchors.add();
  </script>
</BaseLayout>